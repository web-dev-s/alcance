{"version":3,"sources":["comercio/comercio.css","comercio/solicitarPago.js"],"names":["module","exports","container","connect","state","userType","auth","userToken","showUserInfo","al","dispatch","onRequestPayment","token","amount","currency","clientCode","actions","type","a","data","in_Token","in_Amount","in_Currency","in_ClientCode","withErrorHandler","props","_useWindowDimensions","useWindowDimensions","height","width","_useState","useState","_useState2","Object","C_Users_D_Documents_alcance_gitHubAlcance_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","facingMode","_useState3","_useState4","readQR","setReadQR","_useState5","_useState6","readedQR","setReadedQR","_useState7","_useState8","qrReaderCamera","setQRReaderCamera","_useState9","_useState10","reqAmount","setReqAmount","_useState11","client","_useState12","paymentInfo","setPaymentInfo","_useState13","_useState14","message","setMessage","react__WEBPACK_IMPORTED_MODULE_3___default","createElement","style","display","justifyContent","alignItems","alignSelf","paddingLeft","paddingRight","react_device_detect__WEBPACK_IMPORTED_MODULE_15__","marginTop","marginBottom","position","className","classes","flexDirection","overflowY","borderLeft","concat","color","alcanceOrange","alignContent","fontSize","marginLeft","textAlign","padding","react_qr_reader__WEBPACK_IMPORTED_MODULE_16___default","delay","onError","err","onScan","console","log","C_Users_D_Documents_alcance_gitHubAlcance_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__","toString","backgroundColor","qrcode_react__WEBPACK_IMPORTED_MODULE_14___default","value","_components_UI_Input_Input__WEBPACK_IMPORTED_MODULE_13__","label","labelStyle","containerStyle","borderBottom","flex","paddingTop","minHeight","marginRight","middleContainerStyle","border","inputStyle","outline","elementType","elementConfig","placeholder","changed","e","currentTarget","onFocus","length","src","error","alt","resizeMode","red","fontFamily","_components_UI_FlashingButton_FlashingButton__WEBPACK_IMPORTED_MODULE_11__","clicked","isNaN","then","res","status","history","push","comercio_requestPayment","C_Users_D_Documents_alcance_gitHubAlcance_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","borderRadius","fontWeight","axios"],"mappings":"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","file":"static/js/15.4e5b3c10.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"comercio__container__1bUVt\"};","import React, { useEffect, useState } from 'react';\nimport withErrorHandler from '../hoc/withErrorHandler/withErrorHandler';\nimport { connect } from 'react-redux';\nimport axios from '../axios-orders';\nimport * as a from '../store/actions/actionTypes';\nimport * as actions from '../store/actions/index';\nimport * as _ from 'lodash';\nimport { updateObject, checkValidity, color } from '../shared/utility';\nimport FlashingButton from '../components/UI/FlashingButton/FlashingButton';\n/* import Spinner from '../../components/UI/Spinner/Spinner'; */ \nimport classes from './comercio.css';\nimport Input from '../components/UI/Input/Input';\nimport QRCode from 'qrcode.react';\nimport { BrowserView, MobileView, /* isBrowser, isMobile */ } from \"react-device-detect\";\nimport QrReader from 'react-qr-reader';\nimport useWindowDimensions from '../hooks/useWindowsDimensions';\nimport error from '../assets/images/error.png';\nconst Comercio_Payment = props => {\n    const { height, width } = useWindowDimensions();\n\n    const [facingMode, setFacingMode] = useState('environment');\n    const [readQR, setReadQR] = useState(true);\n    const [readedQR, setReadedQR] = useState(null);\n    const [qrReaderCamera, setQRReaderCamera] = useState(true);\n    const [reqAmount, setReqAmount] = useState('');\n    const [paymentInfo, setPaymentInfo] = useState({ currency: 'BS', amount: '', client: '', });\n    const [message, setMessage] = useState('');\n    const { userType, userToken } = props;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n\n    const handleScan = data => {\n        if (data) {\n            console.log(' handleScan read:');\n            console.log(data);\n            if (data) {\n                setReadedQR(data); setQRReaderCamera(false);\n                setPaymentInfo({ ...paymentInfo, client: data });\n                setMessage('');\n            }\n        }\n        return;\n    }\n    const handleError = err => { setMessage(err); };\n    const comercio_requestPayment = () => {\n        setMessage('');\n        if (isNaN(+reqAmount) || reqAmount == null || +reqAmount < 1) return setMessage('no payment amount requested');\n        const client_ID = readedQR;\n        props.onRequestPayment(props.userToken, reqAmount, paymentInfo.currency, paymentInfo.client).then(res => {\n            if (res) {\n                if (res.data && res.data.status == '200') {\n\n                    setReadQR(false); setQRReaderCamera(true);\n\n                    props.history.push('/comercio');\n                }\n                else if (res.message) {\n\n                    console.log(res.data);\n                    setMessage(res.message)\n                }\n\n            }\n        });\n    }\n\n    return (<div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', alignSelf: 'center', paddingLeft: '5%', paddingRight: '5%' }} >\n        <MobileView style={{ width: width, height: height, marginTop: '48px', marginBottom: '58px', position: 'relative' }}>\n            <div className={classes.container} style={{ display: 'flex', flexDirection: 'column', justifyContent: 'flex-start', alignItems: 'stretch', overflowY: 'scroll' }}>\n\n                <div style={{ marginBottom: '4px', borderLeft: `5px solid ${color.alcanceOrange}`, display: 'flex', flexDirection: 'column', justifyContent: 'flex-start', alignContent: 'center', }}>\n                    <label style={{ fontSize: '1.4rem', color: color.alcanceOrange, marginLeft: '10px' }}>{'Solicitar pago'}</label>\n                </div>\n                <div style={{ display: 'flex', flexDirection: 'column', justifyContent: 'center', alignItems: 'center', textAlign: 'left', marginTop: '10px' }}>\n                    {readQR ?\n                        <div style={{ width: '98%' }}>\n                            {qrReaderCamera ?\n                                <div style={{ display: 'flex', padding: '2%', }}>\n                                    <QrReader\n                                        delay={300}\n                                        onError={handleError}\n                                        onScan={handleScan}\n                                        facingMode={facingMode.toString()}\n                                        style={{ width: '100%', height: '100%', backgroundColor: 'yellow' }}\n                                    />\n                                </div>\n                                : <div style={{ display: 'flex', flexDirection: 'row', justifyContent: 'center', alignItems: 'center', width: '100%', textAlign: 'left', marginTop: '20px', marginBottom: '20px' }}>\n                                    <QRCode value={readedQR} style={{ width: '100px', height: '100px' }} />\n                                </div>\n\n                            }\n                            <div style={{ display: 'flex', flexDirection: 'column', justifyContent: 'flex-start', alignItems: 'center', textAlign: 'center', width: '100%' }}>\n                                <Input\n                                    label={'Monto:'}\n                                    labelStyle={{ color: color.alcanceOrange, /* fontStyle: 'italic', */ textAlign: 'left', fontSize: '12px' }}\n                                    containerStyle={{\n                                        borderBottom: '2px solid #ccc', marginTop: '20px',\n                                        display: 'flex', flex: 1, flexDirection: 'column', justifyContent: 'flex-start', alignContent: 'center',\n                                        width: '100%', paddingTop: '2px', minHeight: '50px', fontSize: '12px', marginRight: '5px', marginLeft: '5px',\n                                    }}\n                                    middleContainerStyle={{ border: 'none', }}\n                                    inputStyle={{ minHeight: '50px', border: 'none', fontSize: '14px', outline: 'none' }}\n                                    // leftImage={require(\"../../assets/images/user.png\")}\n                                    elementType='input'\n                                    elementConfig={{ type: 'number', placeholder: 'monto', }}\n                                    value={reqAmount}\n                                    // invalid={!emailValid}\n                                    // shouldValidate={{ required: true, isEmail: true }}\n                                    // touched={emailTouched}\n                                    changed={(e) => { setReqAmount(e.currentTarget.value); }}\n                                    onFocus={(e) => { setMessage(''); }}\n                                />\n                                {/*       <Input\n                                        label={'A moneda:'}\n                                        labelStyle={{ color: color.alcanceOrange,  textAlign: 'left', fontSize: '12px' }}\n                                        containerStyle={{\n                                            borderBottom: '2px solid #ccc', outline: 'none',\n                                            display: 'flex', flex: 1, flexDirection: 'column', justifyContent: 'flex-start', alignContent: 'center',\n                                            width: '100%', paddingTop: '2px', minHeight: '50px', fontSize: '12px', marginRight: '5px', marginLeft: '5px', marginTop: '20px'\n                                        }}\n                                        middleContainerStyle={{ border: 'none', outline: 'none' }}\n                                        inputStyle={{ minHeight: '50px', outline: 'none', fontSize: '14px', border: 0, boxShadow: 'none' }}\n                                        // leftImage={require(\"../../assets/images/user.png\")}\n                                        elementType={'select'}\n                                        elementConfig={{ options: [{ value: 'USD', displayValue: 'USD' }, { value: 'MXN', displayValue: 'MXN' }, { value: 'BS', displayValue: 'BS' }] }}\n                                        optionStyle={{ outline: 'none', border: 'none', display: 'flex', justifyContent: 'center', alignItems: 'center' }}\n                                        value={paymentInfo.currency}\n                                        // invalid={!emailValid}\n                                        // shouldValidate={{ required: true, isEmail: true }}\n                                        // touched={emailTouched}\n                                        changed={e => { setPaymentInfo({ ...paymentInfo, currency: e.currentTarget.value }); }}\n                                      onFocus={() => { setMessage(''); }}  \n                                    /> */}\n                                {(message && message.length > 2) && <div style={{ marginTop: '15px', marginBottom: '15px', display: 'flex', flex: '100%', flexDirection: 'row', justifyContent: 'center', alignItems: 'center', alignSelf: 'center', }}>\n                                    <img src={error} alt=\"error\" style={{ width: '25px', height: '25px', resizeMode: 'contain', display: 'flex', flexDirection: 'row', justifyContent: 'center', alignItems: 'center', marginLeft: '0px' }} />\n                                    <label style={{ paddingLeft: '5px', color: color.red, fontSize: '12px' }}>{message}</label>\n                                </div>\n                                }\n                                <div style={{ marginTop: '12px', marginBottom: '12px', fontSize: ' bold', textAlign: ' center', display: 'flex', justifyContent: 'center', fontFamily: 'AvenirBlack', width: '70%', height: '60%' }}                                        >\n                                    <FlashingButton\n                                        clicked={(e) => { comercio_requestPayment(e) }}\n                                        label={'SOLICITAR'}\n                                        style={{\n                                            color: 'white', alignSelf: 'center', backgroundColor: '#f8bb48', borderRadius: '2px', minHeight: '40px', fontWeight: 'bold',\n                                            textAlign: ' center',\n                                            display: 'flex', flex: 1, flexDirection: 'row', justifyContent: 'center', alignItems: 'center', alignSelf: 'center',\n                                        }} />\n                                </div>\n                            </div>\n\n                        </div>\n                        : <div style={{ width: '98%' }}>\n\n                        </div>\n                    }\n                </div>\n\n            </div>\n        </MobileView>\n        < BrowserView>\n            <p>UNDER CONSTRUCTION</p>\n        </BrowserView>\n\n    </div >);\n}\nconst mapStateToProps = state => {\n    return {\n        userType: state.auth.userType,\n        userToken: state.auth.userToken,\n        showUserInfo: state.al.showUserInfo,\n    };\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n\n\n        onRequestPayment: (token, amount, currency, clientCode) => dispatch(actions.requestPayment({ type: a.VEN_REQUEST_PAYMENT, data: { in_Token: token, in_Amount: amount, in_Currency: currency, in_ClientCode: clientCode } })),\n\n\n\n    };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withErrorHandler(Comercio_Payment, axios));\n"],"sourceRoot":""}